<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="ikamand"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">

	<thing-type id="ikamand">
		<label>iKamand</label>
		<description>iKamand device</description>
		<channels>
			<channel id="fan-speed" typeId="fan-speed"/>
			<channel id="temperature-pit-current" typeId="temperature-pit-current"/>
			<channel id="temperature-pit-target" typeId="temperature-pit-target"/>
			<channel id="temperature-probe1-current" typeId="temperature-probe1-current"/>
			<channel id="temperature-probe2-current" typeId="temperature-probe2-current"/>
			<channel id="temperature-probe3-current" typeId="temperature-probe3-current"/>
			<channel id="temperature-probe1-target" typeId="temperature-probe1-target"/>
			<channel id="temperature-probe2-target" typeId="temperature-probe2-target"/>
			<channel id="temperature-probe3-target" typeId="temperature-probe3-target"/>
			<channel id="cook-start-probe-1" typeId="cook-start-probe-1"/>
			<channel id="cook-start-probe-2" typeId="cook-start-probe-2"/>
			<channel id="cook-start-probe-3" typeId="cook-start-probe-3"/>
			<channel id="cook-stop" typeId="cook-stop"/>
			<channel id="grill-start" typeId="grill-start"/>
			<channel id="grill-running" typeId="grill-running"/>
			<channel id="rm" typeId="rm"/>
			<channel id="cm" typeId="cm"/>
			<channel id="as" typeId="as"/>
			<channel id="current-time" typeId="datetime-current"/>
			<channel id="cook-end-time" typeId="datetime-cook-end"/>
			<channel id="grill-end-time" typeId="datetime-grill-end"/>
		</channels>

		<config-description>
			<parameter name="hostname" type="text" required="true">
				<context>network-address</context>
				<label>Hostname</label>
				<description>Hostname or IP address of the device</description>
			</parameter>
			<parameter name="refreshInterval" type="integer" unit="s" min="1">
				<label>Refresh Interval</label>
				<description>Interval the device is polled in sec.</description>
				<default>10</default>
				<advanced>true</advanced>
			</parameter>
			<parameter name="defaultGrillTemperature" type="integer" unit="Cel" min="66" max="260">
				<label>Default Grill Temperature</label>
				<description>The default temperature to use when starting the grill.</description>
				<default>190</default>
				<advanced>true</advanced>
			</parameter>
		</config-description>
	</thing-type>

	<channel-type id="fan-speed">
		<item-type>Number</item-type>
		<label>Fan Speed</label>
		<description>Current fan speed percentage</description>
		<state pattern="%d %%" readOnly="true"/>
	</channel-type>

	<channel-type id="temperature-pit-current">
		<item-type>Number:Temperature</item-type>
		<label>Pit Temperature</label>
		<description>Current pit temperature</description>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>

	<channel-type id="temperature-pit-target">
		<item-type>Number:Temperature</item-type>
		<label>Target Temperature</label>
		<description>Target pit temperature</description>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>

	<channel-type id="temperature-probe1-current">
		<item-type>Number:Temperature</item-type>
		<label>Probe 1 Temperature</label>
		<description>Temperature from probe 1</description>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>

	<channel-type id="temperature-probe2-current">
		<item-type>Number:Temperature</item-type>
		<label>Probe 2 Temperature</label>
		<description>Temperature from probe 2</description>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>

	<channel-type id="temperature-probe3-current">
		<item-type>Number:Temperature</item-type>
		<label>Probe 3 Temperature</label>
		<description>Temperature from probe 3</description>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>

	<channel-type id="temperature-probe1-target">
		<item-type>Number:Temperature</item-type>
		<label>Probe 1 Target Temperature</label>
		<description>Target temperature for probe 1</description>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>

	<channel-type id="temperature-probe2-target">
		<item-type>Number:Temperature</item-type>
		<label>Probe 2 Target Temperature</label>
		<description>Target temperature for probe 2</description>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>

	<channel-type id="temperature-probe3-target">
		<item-type>Number:Temperature</item-type>
		<label>Probe 3 Target Temperature</label>
		<description>Target temperature for probe 3</description>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>

	<channel-type id="rm" advanced="true">
		<item-type>String</item-type>
		<label>RM</label>
		<description>RM status field</description>
	</channel-type>

	<channel-type id="cm" advanced="true">
		<item-type>String</item-type>
		<label>CM</label>
		<description>CM status field</description>
	</channel-type>

	<channel-type id="as" advanced="true">
		<item-type>String</item-type>
		<label>AS</label>
		<description>AS status field</description>
	</channel-type>


	<channel-type id="datetime-current" advanced="true">
		<item-type>DateTime</item-type>
		<label>Current Time</label>
		<description>Current epoch time reported by device</description>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="datetime-cook-end">
		<item-type>DateTime</item-type>
		<label>Cook End Time</label>
		<description>Epoch cook end time</description>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="datetime-grill-end">
		<item-type>DateTime</item-type>
		<label>Grill End Time</label>
		<description>Epoch grill end time</description>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="grill-start">
		<item-type>Number:Temperature</item-type>
		<label>Start Grill</label>
		<description>Starts the grill using the target pit temperature.</description>
		<state pattern="%.1f %unit%" min="66" max="260"/>
	</channel-type>

	<channel-type id="grill-running">
		<item-type>Switch</item-type>
		<label>Grill Running Status</label>
		<description>Grill Running Status, and can stops the grill if toggled off.</description>
	</channel-type>

	<channel-type id="cook-start-probe-1">
		<item-type>Number:Temperature</item-type>
		<label>Start Cook for Probe 1 at the desired temperature</label>
		<description>Starts a cook session for probe 1 at the desired temperature.</description>
		<state pattern="%.1f %unit%" min="66" max="260"/>
	</channel-type>

	<channel-type id="cook-start-probe-2">
		<item-type>Number:Temperature</item-type>
		<label>Start Cook for Probe 2 at the desired temperature</label>
		<description>Starts a cook session for probe 2 at the desired temperature.</description>
		<state pattern="%.1f %unit%" min="66" max="260"/>
	</channel-type>

	<channel-type id="cook-start-probe-3">
		<item-type>Number:Temperature</item-type>
		<label>Start Cook for Probe 3 at the desired temperature</label>
		<description>Starts a cook session for probe 3 at the desired temperature.</description>
		<state pattern="%.1f %unit%" min="66" max="260"/>
	</channel-type>

	<channel-type id="cook-stop">
		<item-type>Number</item-type>
		<label>Stops the cook session for the probe</label>
		<description>Stops the cook session for the probe</description>
		<state pattern="%.1f %unit%" min="0" max="3">
			<options>
				<option value="0">None</option>
				<option value="1">Probe 1</option>
				<option value="2">Probe 2</option>
				<option value="3">Probe 3</option>
			</options>
		</state>
	</channel-type>
</thing:thing-descriptions>
